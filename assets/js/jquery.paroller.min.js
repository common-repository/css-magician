!function(factory){"use strict";"function"==typeof define&&define.amd?define("parollerjs",["jquery"],factory):"object"==typeof module&&"object"==typeof module.exports?module.exports=factory(require("jquery")):factory(jQuery)}((function($){"use strict";var working=!1,scrollAction=function(){working=!1},setDirection_bgVertical=function(elem,bgOffset){return elem.css({"background-position":"center "+-bgOffset+"px"})},setDirection_bgHorizontal=function(elem,bgOffset){return elem.css({"background-position":-bgOffset+"px center"})},setDirection_vertical=function(elem,elemOffset,transition,oldTransform){return"none"!==oldTransform||(oldTransform=""),elem.css({"-webkit-transform":"translateY("+elemOffset+"px)"+oldTransform,"-moz-transform":"translateY("+elemOffset+"px)"+oldTransform,transform:"translate(0,"+elemOffset+"px)"+oldTransform,transition:transition,"will-change":"transform"})},setDirection_horizontal=function(elem,elemOffset,transition,oldTransform){return"none"!==oldTransform||(oldTransform=""),elem.css({"-webkit-transform":"translateX("+elemOffset+"px)"+oldTransform,"-moz-transform":"translateX("+elemOffset+"px)"+oldTransform,transform:"translate("+elemOffset+"px, 0)"+oldTransform,transition:transition,"will-change":"transform"})},setMovement_factor=function(elem,width,options){var dataFactor=elem.data("paroller-factor"),factor=dataFactor||options.factor;if(width<576){var dataFactorXs=elem.data("paroller-factor-xs"),factorXs=dataFactorXs||options.factorXs;return factorXs||factor}if(width<=768){var dataFactorSm=elem.data("paroller-factor-sm"),factorSm=dataFactorSm||options.factorSm;return factorSm||factor}if(width<=1024){var dataFactorMd=elem.data("paroller-factor-md"),factorMd=dataFactorMd||options.factorMd;return factorMd||factor}if(width<=1200){var dataFactorLg=elem.data("paroller-factor-lg"),factorLg=dataFactorLg||options.factorLg;return factorLg||factor}if(width<=1920){var dataFactorXl=elem.data("paroller-factor-xl"),factorXl=dataFactorXl||options.factorXl;return factorXl||factor}return factor},setMovement_bgOffset=function(offset,factor){return Math.round(offset*factor)},setMovement_transform=function(offset,factor,windowHeight,height){return Math.round((offset-windowHeight/2+height)*factor)},clearPositions_background=function(elem){return elem.css({"background-position":"unset"})},clearPositions_foreground=function(elem){return elem.css({transform:"unset",transition:"unset"})};$.fn.paroller=function(options){var windowHeight=$(window).height(),documentHeight=$(document).height(),options=$.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,transition:"transform .1s ease",type:"background",direction:"vertical",disable:!1},options);return this.each((function(){var $this=$(this),width=$(window).width(),offset=$this.offset().top,scrollOffset=0,height=$this.outerHeight(),dataType=$this.data("paroller-type"),dataDirection=$this.data("paroller-direction"),dataTransition=$this.data("paroller-transition"),oldTransform=$this.css("transform"),transition=dataTransition||options.transition,type=dataType||options.type,direction=dataDirection||options.direction,factor=0,bgOffset=setMovement_bgOffset(offset,factor),transform=setMovement_transform(offset,factor,windowHeight,height),disable=options.disable;"background"===type?"vertical"===direction?setDirection_bgVertical($this,bgOffset):"horizontal"===direction&&setDirection_bgHorizontal($this,bgOffset):"foreground"===type&&("vertical"===direction?setDirection_vertical($this,transform,transition,oldTransform):"horizontal"===direction&&setDirection_horizontal($this,transform,transition,oldTransform)),$(window).on("resize",(function(){var scrolling=$(this).scrollTop(),scrollTop=$(document).scrollTop();width=$(window).width(),offset=$this.offset().top,height=$this.outerHeight(),factor=setMovement_factor($this,width,options),bgOffset=Math.round(offset*factor);var transformPre=Math.round((offset-windowHeight/2+height)*factor);scrollTop||(scrollOffset=transformPre),transform=transformPre-scrollOffset,working||(window.requestAnimationFrame(scrollAction),working=!0),"background"===type?(clearPositions_background($this),"vertical"===direction?setDirection_bgVertical($this,bgOffset):"horizontal"===direction&&setDirection_bgHorizontal($this,bgOffset)):"foreground"===type&&scrolling<=documentHeight&&(clearPositions_foreground($this),"vertical"===direction?setDirection_vertical($this,transform,transition):"horizontal"===direction&&setDirection_horizontal($this,transform,transition))})),$(window).on("load scroll",(function(){if(0==disable){var scrolling=$(this).scrollTop(),scrollTop=$(document).scrollTop();factor=setMovement_factor($this,width,options);var transformPre=Math.round((offset-windowHeight/2+height-scrolling)*factor);scrollTop||(scrollOffset=transformPre),bgOffset=Math.round((offset-scrolling)*factor),transform=Math.round((offset-windowHeight/2+height-scrolling)*factor),transform=transformPre-scrollOffset,working||(window.requestAnimationFrame(scrollAction),working=!0),"background"===type?"vertical"===direction?setDirection_bgVertical($this,bgOffset):"horizontal"===direction&&setDirection_bgHorizontal($this,bgOffset):"foreground"===type&&scrolling<=documentHeight&&("vertical"===direction?setDirection_vertical($this,transform,transition,oldTransform):"horizontal"===direction&&setDirection_horizontal($this,transform,transition,oldTransform))}}))}))}}));